<div class="wrapper">
    <!--OS Selection View-->
    <div *ngIf="osSelection" class="os-selection">
        <div *ngIf="!selectOS">
            <p style="margin-bottom: 0px;">We detected that your Operating System is <span style="font-weight: bolder; color:#2196F3"> {{selectedOS.name}}</span>. If this is correct, click Continue. Otherwise, click Choose My OS.</p>
            <button pButton pRipple class="p-button-outlined" label="Choose My OS" (click)="select()"></button>
        </div>
        <p *ngIf="!foundOS">We were unable to detect your Operating System version. Please choose your Operating System from the dropdown below, then click Continue</p>
        <p *ngIf="selectOS && foundOS && !showText">Select your Operating System</p>
        <p-dropdown *ngIf="selectOS && !showText" [options]="operatingSystems" placeholder="Select your OS" [(ngModel)]="selectedOS" optionLabel="name"></p-dropdown>
        <i *ngIf="selectOS && !showText" class="pi pi-info-circle" (click)="showTextBox()"> Click here if your operating system is not listed</i>
        <div *ngIf="showText" class="p-field">
            <p>Enter the name of your Operating System</p>
            <label for="os">Operating System</label>
            <input id="os" type="text" [(ngModel)]="os_text" aria-describedby="os-help" pInputText />
            <i class="pi pi-angle-left" (click)="backToOSSelection()"> Back to OS Selection</i>
        </div>
        <button pButton pRipple type="button" label="Continue" [disabled]="(selectedOS == null && foundOS) || (showText && os_text === '')" (click)="submitOSChoice(selectedOS)"></button>
    </div>
    
    <!--IP Address Selection View-->
    <div *ngIf="ipSelection" class="ip-selection">
        <div *ngIf="ipFound">
            <p style="margin-bottom: 0px;">We detected that your IPv4 address is <span style="font-weight: bolder; color:#2196F3"> {{selectedIP.ip_address}}</span>. If this is correct, click Continue. Otherwise, click Set My IP.</p>
            <button pButton pRipple class="p-button-outlined" label="Set My IP" (click)="select()"></button>
        </div>
        <p *ngIf="!foundIP">We were unable to detect your IP address. Please enter your public IPv4 address in the field below, then click Continue</p>
        <div *ngIf="!foundIP" class="p-field">
            <label for="ip">IP Address</label>
            <input type="text" minlength="7" maxlength="15" size="15" [(ngModel)]="ip_text" placeholder="xxx.xxx.xxx.xxx" pattern="^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$" pInputText />
        </div>
        <i class="pi pi-angle-left" (click)="backToOSSelection()"> Back to OS Selection</i>
        <button pButton pRipple type="button" label="Continue" [disabled]="(selectedIP == null && foundIP) || (!foundIP && ip_text === '')" (click)="submitIPChoice(selectedIP)"></button>
    </div>
</div>